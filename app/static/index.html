<!doctype html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>PaddleOCR-VL 1.5 Web UI</title>
    <link rel="stylesheet" href="/static/style.css" />
  </head>
  <body>
    <div class="bg"></div>
    <header class="top">
      <div class="brand">
        <div class="logo">OCR</div>
        <div>
          <div class="title">PaddleOCR-VL 1.5 Web UI</div>
          <div class="subtitle">上传图片 / PDF，批量识别并导出 Markdown 格式</div>
        </div>
      </div>
    </header>

    <main class="shell">
      <section class="card upload" id="dropZone">
        <div class="uploadRow">
          <div class="uploadLeft">
            <div class="uploadTitle">拖放文件/文件夹到此处</div>
            <div class="uploadHint">支持：图片（jpg/png/webp…）与 PDF。文件夹上传在 Chrome/Edge 体验更好。</div>
          </div>
          <div class="uploadRight">
            <input id="fileInput" type="file" multiple accept="image/*,application/pdf" hidden />
            <input id="folderInput" type="file" webkitdirectory multiple hidden />
            <button id="btnPickFiles" class="btn">选择文件</button>
            <button id="btnPickFolder" class="btn btn-secondary">选择文件夹</button>
          </div>
        </div>

        <div class="opts">
          <label class="opt">
            <input id="optOrientation" type="checkbox" />
            <span class="optText">方向纠正</span>
            <span
              class="info"
              tabindex="0"
              data-tip="用于检测并纠正文档方向不正（如 90°/180°旋转）。
建议在：拍照角度导致文字方向不对、横竖颠倒时开启。
注意：对本来方向正确的图片可能无明显收益，少数情况下可能误判方向。"
              aria-label="方向纠正 说明"
              >i</span
            >
          </label>
          <label class="opt">
            <input id="optUnwarp" type="checkbox" />
            <span class="optText">去弯曲</span>
            <span
              class="info"
              tabindex="0"
              data-tip="用于纸张弯曲、透视变形、拍照书页等场景的几何矫正。
建议在：手机拍纸质文件、书页有卷曲/拱起、透视明显时开启。
注意：对扫描件/截图通常收益不大，是否提升取决于服务端处理效果。"
              aria-label="去弯曲 说明"
              >i</span
            >
          </label>
          <label class="opt">
            <input id="optChart" type="checkbox" />
            <span class="optText">图表识别</span>
            <span
              class="info"
              tabindex="0"
              data-tip="更偏向统计图/图形图表（柱状图、折线图、饼图等）的信息抽取。
如果你关心的是“表格（table）”结构化输出，这个开关不一定有帮助。
注意：是否对结果有影响，以百度服务端实际实现为准；建议对同一文件做勾选/不勾选对比。"
              aria-label="图表识别 说明"
              >i</span
            >
          </label>
          <span class="sep"></span>
          <label class="opt">
            <input id="optForceAsync" type="checkbox" />
            <span class="optText">强制异步（适合大批量 / PDF）</span>
            <span
              class="info"
              tabindex="0"
              data-tip="仅影响调用方式：强制走异步 jobs（更适合 PDF/大文件/批量，通常更稳，且可轮询进度）。
它不代表识别质量一定更好，只是更不容易因为请求超时而失败。"
              aria-label="强制异步 说明"
              >i</span
            >
          </label>
          <button id="btnStart" class="btn btn-primary" disabled>开始识别</button>
          <button id="btnStop" class="btn btn-ghost" disabled>停止识别</button>
        </div>
      </section>

      <section class="grid">
        <div class="card pane">
          <div class="paneHeader">
            <div>
              <div class="paneTitle">文件队列</div>
              <div id="taskStatus" class="paneMeta">未开始</div>
            </div>
            <div class="miniActions">
              <button id="btnRefresh" class="miniBtn" disabled>刷新</button>
              <button id="btnClear" class="miniBtn" disabled>清空</button>
            </div>
          </div>
          <div id="queueList" class="list empty">
            <div class="emptyState">
              <div class="emptyTitle">还没有文件</div>
              <div class="emptyHint">把文件拖进来，或点击“选择文件/选择文件夹”。</div>
            </div>
          </div>
        </div>

        <div class="card pane">
          <div class="paneHeader">
            <div>
              <div class="paneTitle">结果预览</div>
              <div id="previewMeta" class="paneMeta">请选择一个已完成的文件</div>
            </div>
            <div class="miniActions">
              <button id="btnCopy" class="miniBtn" disabled>复制 Markdown</button>
              <button id="btnDownload" class="miniBtn" disabled>下载 ZIP</button>
            </div>
          </div>
          <div class="preview">
            <pre id="mdPreview" class="md">（尚无内容）</pre>
            <div id="tips" class="tips">提示：点击左侧“完成”的文件可预览 Markdown；PDF 默认走异步识别。</div>
          </div>
        </div>
      </section>
    </main>

    <script src="/static/app.js"></script>
  </body>
</html>
